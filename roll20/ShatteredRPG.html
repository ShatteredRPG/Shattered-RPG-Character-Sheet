<!-- Special thanks to Brian from Roll20.net for the roll logic!
    /r [[floor(@{tough}/4)]]d10 + [[floor({1,@{tough}%4}kl1/(@{tough}%4+1)+.5)]]d4 + [[floor({2,@{tough}%4}kl1/(@{tough}%4+1)+.45)]]d6 + [[floor(@{tough}%4/(@{tough}%4+1)+.25)]]d8
    /r [[floor((@{stat}+${skill})/4)]]d10 + [[floor({1,(@{stat}+@{skill})%4}kl1/((@{stat}+@{skill})%4+1)+.5)]]d4 + [[floor({2,(@{stat}+@{skill})%4}kl1/((@{stat}+@{skill})%4+1)+.45)]]d6 + [[floor((@{stat}+@{skill})%4/((@{stat}+@{skill})%4+1)+.25)]]d8+@{bonus}
-->
<!-- Die Codes and Logo -->
<div style="float: right; background-image: url('http://shattered-rpg.com/images/roll20-logo.png'); background-repeat: no-repeat">
    <div style="float: right; border-bottom: solid 1px; border-top: solid 1px; border-right: solid 1px; padding: 2px;">
        <b>Dice</b><br />
        3d10+1d8<br />
        4d10<br />
        4d10+1d4<br />
        4d10+1d6<br />
        4d10+1d8<br />
        5d10<br />
        <br />
    </div>
    <div style="float: right; border-bottom: solid 1px; border-top: solid 1px; border-right: solid 1px; padding: 2px;">
        <b>Rank</b><br />
        15<br />
        16<br />
        17<br />
        18<br />
        19<br />
        20<br />
        <br />
    </div>
    <div style="float: right; border-bottom: solid 1px; border-top: solid 1px; border-right: solid 1px; padding: 2px;">
        <b>Dice</b><br />
        2d10<br />
        2d10+1d4<br />
        2d10+1d6<br />
        2d10+1d8<br />
        3d10<br />
        3d10+1d4<br />
        3d10+1d6<br />
    </div>
    <div style="float: right; border-bottom: solid 1px; border-top: solid 1px; border-right: solid 1px; padding: 2px;">
        <b>Rank</b><br />
        8<br />
        9<br />
        10<br />
        11<br />
        12<br />
        13<br />
        14<br />
    </div>
    <div style="float: right; border-bottom: solid 1px; border-top: solid 1px; border-right: solid 1px; padding: 2px;">
        <b>Dice</b><br />
        1d4<br />
        1d6<br />
        1d8<br />
        1d10<br />
        1d10+1d4<br />
        1d10+1d6<br />
        1d10+1d8<br />
    </div>
    <div style="float: right; border-width: 1px; border-style: solid; padding:2px;">
        <b>Rank</b><br />
        1<br />
        2<br />
        3<br />
        4<br />
        5<br />
        6<br />
        7<br />
    </div>
</div>
<!-- Header / Character Info -->
<div>
    <div style="float: left;">
        <div style="float: left;"><input type="text" name="attr_player" style="width:245%;"><br />Player Name</div>
    </div>
    <br /><br /><br /><br />
    <div style="float: left;">
        <div style="float: left;"><input type="text" name="attr_gm"><br />GM</div>
        <div style="float: left;"><input type="text" name="attr_game"><br />Game</div>
    </div>
    <br /><br /><br /><br />
    <div style="float: left;">
        <div style=" float: left;"><input type="text" name="attr_character_name" style="width:245%;"><br />Character Name</div>
    </div>
    <br /><br /><br /><br />
    <div style="float: left;">
        <div style=" float: left;"><input type="text" name="attr_race"><br />Race</div>
        <div style="float: left;"><input type="text" name="attr_gender"><br />Gender</div>
    </div>
    <br /><br /><br />
    <div style="float: left;">
        <div style="float: left;"><input type="text" name="attr_languages" style="width:245%;"><br />Languages</div>
    </div>
    <br /><br /><br />
    <div style="float: left;">
        <div style="float: left;"><input type="text" name="attr_remaining_xp"><br />Remaining XP</div>
        <div style="float: left;"><input type="text" name="attr_total_xp"><br />Total XP</div>
    </div>
</div>
<br /><br /><br />
<!-- Stats -->
<div>
    <div style="float: left; text-align: center;">
        <table style="border-collapse: collapse;">
            <thead style="text-align: right;">
                <tr>
                    <td style="width: 100px; border: 1px solid;">Stat Name</td>
                    <td style="width: 45px; border: 1px solid;">Rank</td>
                    <td style="border: 1px solid;"></td>
                </tr>
            </thead>
            <tbody style="text-align: right;">
                <tr>
                    <td style="border: 1px solid;">Strength (S)</td>
                    <td style="border: 1px solid;"><input type="number" name="attr_str" style="width: 100%;" min=0 /></td>
                    <td style="border: 1px solid;"><button type="roll" name="roll_str" value="/me rolls a Strength Check of @{str}:\n/r [[floor(@{str}/4)]]d10 + [[floor({1,@{str}%4}kl1/(@{str}%4+1)+.5)]]d4 + [[floor({2,@{str}%4}kl1/(@{str}%4+1)+.45)]]d6 + [[floor(@{str}%4/(@{str}%4+1)+.25)]]d8" /></td>
                </tr>
                <tr>
                    <td style="border: 1px solid;">Toughness (T)</td>
                    <td style="border: 1px solid;"><input type="number" name="attr_tough" style="width: 100%;" min=0 /></td>
                    <td style="border: 1px solid;"><button type="roll" name="roll_tough" value="/me rolls a Toughness Check of @{tough}:\n/r [[floor(@{tough}/4)]]d10 + [[floor({1,@{tough}%4}kl1/(@{tough}%4+1)+.5)]]d4 + [[floor({2,@{tough}%4}kl1/(@{tough}%4+1)+.45)]]d6 + [[floor(@{tough}%4/(@{tough}%4+1)+.25)]]d8" /></td>
                </tr>
                <tr>
                    <td style="border: 1px solid;">Will Power (WP)</td>
                    <td style="border: 1px solid;"><input type="number" name="attr_wp" style="width: 100%;" min=0 /></td>
                    <td style="border: 1px solid;"><button type="roll" name="roll_wp" value="/me rolls a Will Power Check of @{wp}:\n/r [[floor(@{wp}/4)]]d10 + [[floor({1,@{wp}%4}kl1/(@{wp}%4+1)+.5)]]d4 + [[floor({2,@{wp}%4}kl1/(@{wp}%4+1)+.45)]]d6 + [[floor(@{wp}%4/(@{wp}%4+1)+.25)]]d8" /></td>
                </tr>
                <tr>
                    <td style="border: 1px solid;">Agility (Ag)</td>
                    <td style="border: 1px solid;"><input type="number" name="attr_agi" style="width: 100%;" min=0 /></td>
                    <td style="border: 1px solid;"><button type="roll" name="roll_agi" value="/me rolls an Agility Check of @{ag}:\n/r [[floor(@{ag}/4)]]d10 + [[floor({1,@{ag}%4}kl1/(@{ag}%4+1)+.5)]]d4 + [[floor({2,@{ag}%4}kl1/(@{ag}%4+1)+.45)]]d6 + [[floor(@{ag}%4/(@{ag}%4+1)+.25)]]d8" /></td>
                </tr>
                <tr>
                    <td style="border: 1px solid;">Intelligence (Int)</td>
                    <td style="border: 1px solid;"><input type="number" name="attr_int" style="width: 100%;" min=0 /></td>
                    <td style="border: 1px solid;"><button type="roll" name="roll_int" value="/me rolls an Intelligence Check of @{int}:\n/r [[floor(@{int}/4)]]d10 + [[floor({1,@{int}%4}kl1/(@{int}%4+1)+.5)]]d4 + [[floor({2,@{int}%4}kl1/(@{int}%4+1)+.45)]]d6 + [[floor(@{int}%4/(@{int}%4+1)+.25)]]d8" /></td>
                </tr>
                <tr>
                    <td style="border: 1px solid;">Perception (Per)</td>
                    <td style="border: 1px solid;"><input type="number" name="attr_per" style="width: 100%;" min=0 /></td>
                    <td style="border: 1px solid;"><button type="roll" name="roll_per" value="/me rolls a Perception Check of @{per}:\n/r [[floor(@{per}/4)]]d10 + [[floor({1,@{per}%4}kl1/(@{per}%4+1)+.5)]]d4 + [[floor({2,@{per}%4}kl1/(@{per}%4+1)+.45)]]d6 + [[floor(@{per}%4/(@{per}%4+1)+.25)]]d8" /></td>
                </tr>
                <tr>
                    <td style="border: 1px solid;">Charisma (Cha)</td>
                    <td style="border: 1px solid;"><input type="number" name="attr_cha" style="width: 100%;" min=0 /><br /></td>
                    <td style="border: 1px solid;"><button type="roll" name="roll_cha" value="/me rolls a Charisma Check of @{cha}:\n/r [[floor(@{cha}/4)]]d10 + [[floor({1,@{cha}%4}kl1/(@{cha}%4+1)+.5)]]d4 + [[floor({2,@{cha}%4}kl1/(@{cha}%4+1)+.45)]]d6 + [[floor(@{cha}%4/(@{cha}%4+1)+.25)]]d8" /></td>
                </tr>
            </tbody>
        </table>
    </div>
    <!-- Health, Fatigue, Actions -->
    <!-- need formulas for this!!! -->
    <div>
        Current Health: <input type="number" name="attr_curr_health" min=0 /><br />
        Maximum Health: <input type="number" name="attr_max_health" min=0 /><br />
        Current Fatigue: <input type="number" name="attr_curr_fatigue" min=0 /><br />
        Maximum Fatigue: <input type="number" name="attr_max_fatigue" min=0 /><br />
        Actions: <input type="text" name="attr_actions" minimum=0 value="" /><br /> <!-- put in actions formula -->

    </div>

    <div>
        Damage Reduction: <input type="text" name="attr_dr" disabled="true" value="@{armor_value}+@{tough}" /><br />
        Physical Resolve: <input type="text" name="attr_phys_resolve" disabled="true" value="@{resolve}+@{tough}" /><br />
        Mental Resolve: <input type="text" name="attr_ment_resolve" disabled="true" value="@{resolve}+@{wp}" /><br />
    </div>
    <div>
        Insanity: <input type="number" name="attr_insanity" min=0 /><br />
        <h1>Eccentricities</h1>
        <table>
            <thead>
                <tr>
                    <td>Eccentricity</td>
                    <td>Points</td>
                </tr>
            </thead>
        </table>
        <fieldset name="repeating_eccentricities">
            <table>
                <tr>
                    <td>
                        <input type="text" name="attr_eccen_name" />
                    </td>
                    <td>
                        <input type="number" name="attr_eccen_pts" min=0 />
                    </td>
                </tr>
            </table>
        </fieldset>
    </div>
    <!-- Conviction -->
    <div>
        <h1>Conviction</h1>
        Element: <select name="attr_conv_element">
            <option>Input elements</option>
        </select>
        Sign: <select name="attr_conv_sign">
            <option>Input signs</option>
        </select>
        Rank: <input type="number" name="attr_conv_rank" min=0 value=0 />
        Conviction Points: <input type="number" name="attr_conv_points" min=0 />
    </div>
</div>

<!-- Combat Skills -->
<div>Combat Skills</div>
<table>
    <thead>
        <tr>
            <td>Name</td>
            <td>Rank</td>
            <td>Stat+Skill</td>
            <td>Bonus</td>
            <td></td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Melee (s)</td>
            <td><input type="number" name="attr_melee" min=0 /></td>
            <td><input type="number" name="attr_str_melee" visible="false" disabled="true" value="@{str}+@{melee}"></td>
            <td><input type="number" name="attr_melee_bonus" min=0 /></td>
            <td><button type="roll" name="roll_skill_melee" value="/me rolls a Melee Check of @{str}+@{skill_melee}:\n/r [[floor(@{str_melee}/4)]]d10 + [[floor({1,@{str_melee}%4}kl1/(@{str_melee}%4+1)+.5)]]d4 + [[floor({2,@{str_melee}%4}kl1/(@{str_melee}%4+1)+.45)]]d6 + [[floor(@{str_melee}%4/(@{str_melee}%4+1)+.25)]]d8+@{melee_bonus}"></button></td>
        </tr>
    </tbody>
</table>

<!-- Arkana -->
<div style="float: left;">
    <h1>Arkäna</h1>
    <table>
        <tr>
            <td style="width: 150px;">School</td>
            <td style="width: 45px;">Rank</td>
            <td></td>
        </tr>
    </table>
    <fieldset class="repeating_arkana">
        <table>
            <tr>
                <td style="width: 150px">
                    <select name="attr_arkana_school" style="width: 100%">
                        <option value="Primaltheurgy">Primaltheurgy</option>
                        <option value="Illusion">Illusion</option>
                        <option value="Necromancy">Necromancy</option>
                        <option value="Evokation">Evokation</option>
                    </select>
                </td>
                <td style="width:45px;"><input type="number" name="attr_arkana_rank" style="width: 100%;" maxlength="2" min=0 value=1 /></td>ct>
                </td>
                <td style="width: 50px;"><button type="roll" name="attr_roll_arkana" value="/me rolls a(n) @{arkana_school} Check of @{arkana_rank}:\n/r [[floor(@{arkana_rank}/4)]]d10 + [[floor({1,@{arkana_rank}%4}kl1/(@{arkana_rank}%4+1)+.5)]]d4 + [[floor({2,@{arkana_rank}%4}kl1/(@{arkana_rank}%4+1)+.45)]]d6 + [[floor(@{arkana_rank}%4/(@{arkana_rank}%4+1)+.25)]]d8" /></td>
            </tr>
        </table>
    </fieldset>
    <table>
        <thead>
            <tr>
                <td>Range</td>
                <td>Overcast</td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="width: 50px;"><input type="text" name="attr_arkana_range" disabled="true" value="@{int}+@{int}" style="width: 100%;" /></td>
                <td style="width: 150px;"><input type="text" name="attr_arkana_overcast_c" style="width: 25%;" /> / <input type="text" name="attr_arkana_overcast_m" style="width: 25%" /></td>
            </tr>
            <tr>
                <td>(Int x 2)</td>
                <td>(Current / Max)</td>
            </tr>
        </tbody>
    </table>

</div>
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />

<!-- Armor -->
<div>
    <h1>Armor Placeholder</h1>
    Armor Value: <input type="number" name="attr_armor_value" min=0 value=0 />
    <table>
        <thead>
            <tr>
                <td style="width: 250px">Attributes/Assemblies</td>
                <td style="width: 45px">CX</td>
                <td style="width: 300px">Description</td>
            </tr>
        </thead>
    </table>
    <fieldset name="repeating_armor">
        <table>
            <tr>
                <td style="width: 250px"><input type="text" name="attr_armor_attrasm" style="width: 100%;" /></td>
                <td style="width: 45px"><input type="number" name="attr_armor_cx" min=0 value=0 style="width: 100%;" /></td>
                <td style="width: 300px"><input type="text" name="attr_armor_desc" style="width: 100%;" /></td>
            </tr>
        </table>
    </fieldset>

</div>

<!-- Melee Weapons -->
<div>
    <h1>Melee Weapons</h1>
    <table>
        <tr>
            <td style="width: 150px;">Name</td>
            <td style="width: 100px;">Range</td>
            <td style="width: 100px;">Damage</td>
            <td style="width: 200px;">Traits/Assemblies</td>
            <td></td>
        </tr>
    </table>
    <fieldset name="repeating_meleeWeapons">
        <table>
            <tr>
                <td style="width: 150px;"><input type="text" name="attr_melee_name" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_melee_range" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_melee_damage" style="width: 100%;" /></td>
                <td style="width: 200px;"><input type="text" name="attr_melee_traits" style="width: 100%;" /></td>
                <td style="width: 50px;"><button type="roll" name="roll_melee_damage" value="/me rolls [Melee] @{melee_name} damage:\n/r @{melee_damage}" /></td>
            </tr>
        </table>
    </fieldset>
</div>
<!-- Ranged Weapons -->
<div>
    <h1>Ranged Weaons</h1>
    <table>
        <tr>
            <td style="width: 150px;">Name</td>
            <td style="width: 100px;">Range</td>
            <td style="width: 100px;">Damage</td>
            <td style="width: 100px">Reload</td>
            <td style="width: 120px;">Traits/Assemblies</td>
            <td></td>
        </tr>
    </table>
    <fieldset name="repeating_rangedWeapons">
        <table>
            <tr>
                <td style="width: 150px;"><input type="text" name="attr_ranged_name" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_ranged_range" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_ranged_damage" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_ranged_reload" style="width: 100%;" /></td>
                <td style="width: 200px;"><input type="text" name="attr_ranged_traits" style="width: 100%;" /></td>
                <td style="width: 50px;"><button type="roll" name="roll_ranged_damage" value="/me rolls [Ranged] @{ranged_name} damage:\n/r @{ranged_damage}" /></td>
            </tr>
        </table>
    </fieldset>
</div>
<!-- Prosthetics -->
<div>
    <h1>Prosthetics</h1>
    <table>
        <tr>
            <td style="width: 150px;">Name</td>
            <td style="width: 100px;">Threshold</td>
            <td style="width: 100px;">Repair CX</td>
            <td style="width: 200px;">Description</td>
        </tr>
    </table>
    <fieldset name="repeating_meleeWeapons">
        <table>
            <tr>
                <td style="width: 150px;"><input type="text" name="attr_prosthetics_name" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_prosthetics_threshold" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="int" name="attr_prosthetics_repaircx" style="width: 100%;" min=0 value=0 /></td>
                <td style="width: 200px;"><input type="text" name="attr_prosthetics_desc" style="width: 100%;" /></td>
            </tr>
        </table>
    </fieldset>
</div>
<!-- Mutations -->
<div>
    <h1>Mutations</h1>
    <table>
        <tr>
            <td style="width: 150px;">Name</td>
            <td style="width: 100px;">XP Cost</td>
            <td style="width: 100px;">Book/Page</td></td>
            <td style="width: 200px;">Description</td>
        </tr>
    </table>
    <fieldset name="repeating_mutations">
        <table>
            <tr>
                <td style="width: 150px;"><input type="text" name="attr_mutations_name" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_mutations_xp" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_mutations_bp" style="width: 100%;" /></td>
                <td style="width: 200px;"><input type="text" name="attr_mutations_desc" style="width: 100%;" /></td>
            </tr>
        </table>
    </fieldset>
</div>
<!-- Racial Traits -->
<div>
    <h1>Racial Traits</h1>
    <table>
        <tr>
            <td style="width: 150px;">Name</td>
            <td style="width: 200px;">Description</td>
        </tr>
    </table>
    <fieldset name="repeating_racialTraits">
        <table>
            <tr>
                <td style="width: 150px;"><input type="text" name="attr_racialTraits_name" style="width: 100%;" /></td>
                <td style="width: 200px;"><input type="text" name="attr_racialTraits_desc" style="width: 100%;" /></td>
            </tr>
        </table>
    </fieldset>
</div>
<!-- Talents -->
<div>
    <h1>Talents</h1>
    <table>
        <tr>
            <td style="width: 150px;">Name</td>
            <td style="width: 100px;">XP Cost</td>
            <td style="width: 100px;">Book/Page</td></td>
            <td style="width: 200px;">Description</td>
        </tr>
    </table>
    <fieldset name="repeating_mutations">
        <table>
            <tr>
                <td style="width: 150px;"><input type="text" name="attr_talents_name" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_talents_xp" style="width: 100%;" /></td>
                <td style="width: 100px;"><input type="text" name="attr_talents_bp" style="width: 100%;" /></td>
                <td style="width: 200px;"><input type="text" name="attr_talents_desc" style="width: 100%;" /></td>
            </tr>
        </table>
    </fieldset>
</div>
<!-- Notes & Comments -->
<div>
    <h1>Notes & Comments</h1>
    <textarea name="attr_descAndComments"></textarea>
</div>